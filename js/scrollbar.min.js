!(function (e) {
  "function" == typeof define && define.amd
    ? define(["jquery"], e)
    : "object" == typeof exports
    ? (module.exports = e)
    : e(jQuery);
})(function (e) {
  function t(t) {
    var r = t || window.event,
      l = s.call(arguments, 1),
      c = 0,
      u = 0,
      h = 0,
      f = 0,
      m = 0,
      p = 0;
    if (
      (((t = e.event.fix(r)).type = "mousewheel"),
      "detail" in r && (h = -1 * r.detail),
      "wheelDelta" in r && (h = r.wheelDelta),
      "wheelDeltaY" in r && (h = r.wheelDeltaY),
      "wheelDeltaX" in r && (u = -1 * r.wheelDeltaX),
      "axis" in r && r.axis === r.HORIZONTAL_AXIS && ((u = -1 * h), (h = 0)),
      (c = 0 === h ? u : h),
      "deltaY" in r && (c = h = -1 * r.deltaY),
      "deltaX" in r && ((u = r.deltaX), 0 === h && (c = -1 * u)),
      0 !== h || 0 !== u)
    ) {
      if (1 === r.deltaMode) {
        var g = e.data(this, "mousewheel-line-height");
        (c *= g), (h *= g), (u *= g);
      } else if (2 === r.deltaMode) {
        var v = e.data(this, "mousewheel-page-height");
        (c *= v), (h *= v), (u *= v);
      }
      if (
        ((f = Math.max(Math.abs(h), Math.abs(u))),
        (!i || i > f) && ((i = f), a(r, f) && (i /= 40)),
        a(r, f) && ((c /= 40), (u /= 40), (h /= 40)),
        (c = Math[c >= 1 ? "floor" : "ceil"](c / i)),
        (u = Math[u >= 1 ? "floor" : "ceil"](u / i)),
        (h = Math[h >= 1 ? "floor" : "ceil"](h / i)),
        d.settings.normalizeOffset && this.getBoundingClientRect)
      ) {
        var x = this.getBoundingClientRect();
        (m = t.clientX - x.left), (p = t.clientY - x.top);
      }
      return (
        (t.deltaX = u),
        (t.deltaY = h),
        (t.deltaFactor = i),
        (t.offsetX = m),
        (t.offsetY = p),
        (t.deltaMode = 0),
        l.unshift(t, c, u, h),
        n && clearTimeout(n),
        (n = setTimeout(o, 200)),
        (e.event.dispatch || e.event.handle).apply(this, l)
      );
    }
  }
  function o() {
    i = null;
  }
  function a(e, t) {
    return (
      d.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
    );
  }
  var n,
    i,
    r = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
    l =
      "onwheel" in document || document.documentMode >= 9
        ? ["wheel"]
        : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
    s = Array.prototype.slice;
  if (e.event.fixHooks)
    for (var c = r.length; c; ) e.event.fixHooks[r[--c]] = e.event.mouseHooks;
  var d = (e.event.special.mousewheel = {
    version: "3.1.12",
    setup: function () {
      if (this.addEventListener)
        for (var o = l.length; o; ) this.addEventListener(l[--o], t, !1);
      else this.onmousewheel = t;
      e.data(this, "mousewheel-line-height", d.getLineHeight(this)),
        e.data(this, "mousewheel-page-height", d.getPageHeight(this));
    },
    teardown: function () {
      if (this.removeEventListener)
        for (var o = l.length; o; ) this.removeEventListener(l[--o], t, !1);
      else this.onmousewheel = null;
      e.removeData(this, "mousewheel-line-height"),
        e.removeData(this, "mousewheel-page-height");
    },
    getLineHeight: function (t) {
      var o = e(t),
        a = o["offsetParent" in e.fn ? "offsetParent" : "parent"]();
      return (
        a.length || (a = e("body")),
        parseInt(a.css("fontSize"), 10) || parseInt(o.css("fontSize"), 10) || 16
      );
    },
    getPageHeight: function (t) {
      return e(t).height();
    },
    settings: { adjustOldDeltas: !0, normalizeOffset: !0 },
  });
  e.fn.extend({
    mousewheel: function (e) {
      return e ? this.bind("mousewheel", e) : this.trigger("mousewheel");
    },
    unmousewheel: function (e) {
      return this.unbind("mousewheel", e);
    },
  });
}),
  (function (e) {
    "undefined" != typeof module && module.exports
      ? (module.exports = e)
      : e(jQuery, window, document);
  })(function (e) {
    var t, o, a;
    (t = "function" == typeof define && define.amd),
      (o = "undefined" != typeof module && module.exports),
      (a = "https:" == document.location.protocol ? "https:" : "http:"),
      t ||
        (o
          ? require("jquery-mousewheel")(e)
          : e.event.special.mousewheel ||
            e("head").append(
              decodeURI(
                "%3Cscript src=" +
                  a +
                  "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js%3E%3C/script%3E",
              ),
            )),
      (function () {
        var t,
          o = "mCustomScrollbar",
          a = "mCS",
          n = ".mCustomScrollbar",
          i = {
            setTop: 0,
            setLeft: 0,
            axis: "y",
            scrollbarPosition: "inside",
            scrollInertia: 950,
            autoDraggerLength: !0,
            alwaysShowScrollbar: 0,
            snapOffset: 0,
            mouseWheel: {
              enable: !0,
              scrollAmount: "auto",
              axis: "y",
              deltaFactor: "auto",
              disableOver: [
                "select",
                "option",
                "keygen",
                "datalist",
                "textarea",
              ],
            },
            scrollButtons: { scrollType: "stepless", scrollAmount: "auto" },
            keyboard: {
              enable: !0,
              scrollType: "stepless",
              scrollAmount: "auto",
            },
            contentTouchScroll: 25,
            advanced: {
              autoScrollOnFocus:
                "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
              updateOnContentResize: !0,
              updateOnImageLoad: !0,
              autoUpdateTimeout: 60,
            },
            theme: "light",
            callbacks: {
              onTotalScrollOffset: 0,
              onTotalScrollBackOffset: 0,
              alwaysTriggerOffsets: !0,
            },
          },
          r = 0,
          l = {},
          s = window.attachEvent && !window.addEventListener ? 1 : 0,
          c = !1,
          d = [
            "mCSB_dragger_onDrag",
            "mCSB_scrollTools_onDrag",
            "mCS_img_loaded",
            "mCS_disabled",
            "mCS_destroyed",
            "mCS_no_scrollbar",
            "mCS-autoHide",
            "mCS-dir-rtl",
            "mCS_no_scrollbar_y",
            "mCS_no_scrollbar_x",
            "mCS_y_hidden",
            "mCS_x_hidden",
            "mCSB_draggerContainer",
            "mCSB_buttonUp",
            "mCSB_buttonDown",
            "mCSB_buttonLeft",
            "mCSB_buttonRight",
          ],
          u = {
            init: function (t) {
              var t = e.extend(!0, {}, i, t),
                o = h.call(this);
              if (t.live) {
                var s = t.liveSelector || this.selector || n,
                  c = e(s);
                if ("off" === t.live) return void m(s);
                l[s] = setTimeout(function () {
                  c.mCustomScrollbar(t), "once" === t.live && c.length && m(s);
                }, 500);
              } else m(s);
              return (
                (t.setWidth = t.set_width ? t.set_width : t.setWidth),
                (t.setHeight = t.set_height ? t.set_height : t.setHeight),
                (t.axis = t.horizontalScroll ? "x" : p(t.axis)),
                (t.scrollInertia =
                  t.scrollInertia > 0 && t.scrollInertia < 17
                    ? 17
                    : t.scrollInertia),
                "object" != typeof t.mouseWheel &&
                  1 == t.mouseWheel &&
                  (t.mouseWheel = {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: !1,
                    deltaFactor: "auto",
                    normalizeDelta: !1,
                    invert: !1,
                  }),
                (t.mouseWheel.scrollAmount = t.mouseWheelPixels
                  ? t.mouseWheelPixels
                  : t.mouseWheel.scrollAmount),
                (t.mouseWheel.normalizeDelta = t.advanced
                  .normalizeMouseWheelDelta
                  ? t.advanced.normalizeMouseWheelDelta
                  : t.mouseWheel.normalizeDelta),
                (t.scrollButtons.scrollType = g(t.scrollButtons.scrollType)),
                f(t),
                e(o).each(function () {
                  var o = e(this);
                  if (!o.data(a)) {
                    o.data(a, {
                      idx: ++r,
                      opt: t,
                      scrollRatio: { y: null, x: null },
                      overflowed: null,
                      contentReset: { y: null, x: null },
                      bindEvents: !1,
                      tweenRunning: !1,
                      sequential: {},
                      langDir: o.css("direction"),
                      cbOffsets: null,
                      trigger: null,
                    });
                    var n = o.data(a),
                      i = n.opt,
                      l = o.data("mcs-axis"),
                      s = o.data("mcs-scrollbar-position"),
                      c = o.data("mcs-theme");
                    l && (i.axis = l),
                      s && (i.scrollbarPosition = s),
                      c && ((i.theme = c), f(i)),
                      v.call(this),
                      e(
                        "#mCSB_" + n.idx + "_container img:not(." + d[2] + ")",
                      ).addClass(d[2]),
                      u.update.call(null, o);
                  }
                })
              );
            },
            update: function (t, o) {
              var n = t || h.call(this);
              return e(n).each(function () {
                var t = e(this);
                if (t.data(a)) {
                  var n = t.data(a),
                    i = n.opt,
                    r = e("#mCSB_" + n.idx + "_container"),
                    l = [
                      e("#mCSB_" + n.idx + "_dragger_vertical"),
                      e("#mCSB_" + n.idx + "_dragger_horizontal"),
                    ];
                  if (!r.length) return;
                  n.tweenRunning && N(t),
                    t.hasClass(d[3]) && t.removeClass(d[3]),
                    t.hasClass(d[4]) && t.removeClass(d[4]),
                    S.call(this),
                    _.call(this),
                    "y" === i.axis ||
                      i.advanced.autoExpandHorizontalScroll ||
                      r.css("width", x(r.children())),
                    (n.overflowed = B.call(this)),
                    O.call(this),
                    i.autoDraggerLength && b.call(this),
                    C.call(this),
                    M.call(this);
                  var s = [Math.abs(r[0].offsetTop), Math.abs(r[0].offsetLeft)];
                  "x" !== i.axis &&
                    (n.overflowed[0]
                      ? l[0].height() > l[0].parent().height()
                        ? T.call(this)
                        : (V(t, s[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none",
                          }),
                          (n.contentReset.y = null))
                      : (T.call(this),
                        "y" === i.axis
                          ? k.call(this)
                          : "yx" === i.axis &&
                            n.overflowed[1] &&
                            V(t, s[1].toString(), {
                              dir: "x",
                              dur: 0,
                              overwrite: "none",
                            }))),
                    "y" !== i.axis &&
                      (n.overflowed[1]
                        ? l[1].width() > l[1].parent().width()
                          ? T.call(this)
                          : (V(t, s[1].toString(), {
                              dir: "x",
                              dur: 0,
                              overwrite: "none",
                            }),
                            (n.contentReset.x = null))
                        : (T.call(this),
                          "x" === i.axis
                            ? k.call(this)
                            : "yx" === i.axis &&
                              n.overflowed[0] &&
                              V(t, s[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none",
                              }))),
                    o &&
                      n &&
                      (2 === o &&
                      i.callbacks.onImageLoad &&
                      "function" == typeof i.callbacks.onImageLoad
                        ? i.callbacks.onImageLoad.call(this)
                        : 3 === o &&
                          i.callbacks.onSelectorChange &&
                          "function" == typeof i.callbacks.onSelectorChange
                        ? i.callbacks.onSelectorChange.call(this)
                        : i.callbacks.onUpdate &&
                          "function" == typeof i.callbacks.onUpdate &&
                          i.callbacks.onUpdate.call(this)),
                    q.call(this);
                }
              });
            },
            scrollTo: function (t, o) {
              if (void 0 !== t && null != t) {
                var n = h.call(this);
                return e(n).each(function () {
                  var n = e(this);
                  if (n.data(a)) {
                    var i = n.data(a),
                      r = i.opt,
                      l = {
                        trigger: "external",
                        scrollInertia: r.scrollInertia,
                        scrollEasing: "mcsEaseInOut",
                        moveDragger: !1,
                        timeout: 60,
                        callbacks: !0,
                        onStart: !0,
                        onUpdate: !0,
                        onComplete: !0,
                      },
                      s = e.extend(!0, {}, l, o),
                      c = j.call(this, t),
                      d =
                        s.scrollInertia > 0 && s.scrollInertia < 17
                          ? 17
                          : s.scrollInertia;
                    (c[0] = F.call(this, c[0], "y")),
                      (c[1] = F.call(this, c[1], "x")),
                      s.moveDragger &&
                        ((c[0] *= i.scrollRatio.y), (c[1] *= i.scrollRatio.x)),
                      (s.dur = d),
                      setTimeout(function () {
                        null !== c[0] &&
                          void 0 !== c[0] &&
                          "x" !== r.axis &&
                          i.overflowed[0] &&
                          ((s.dir = "y"),
                          (s.overwrite = "all"),
                          V(n, c[0].toString(), s)),
                          null !== c[1] &&
                            void 0 !== c[1] &&
                            "y" !== r.axis &&
                            i.overflowed[1] &&
                            ((s.dir = "x"),
                            (s.overwrite = "none"),
                            V(n, c[1].toString(), s));
                      }, s.timeout);
                  }
                });
              }
            },
            stop: function () {
              var t = h.call(this);
              return e(t).each(function () {
                var t = e(this);
                t.data(a) && N(t);
              });
            },
            disable: function (t) {
              var o = h.call(this);
              return e(o).each(function () {
                var o = e(this);
                o.data(a) &&
                  (o.data(a),
                  q.call(this, "remove"),
                  k.call(this),
                  t && T.call(this),
                  O.call(this, !0),
                  o.addClass(d[3]));
              });
            },
            destroy: function () {
              var t = h.call(this);
              return e(t).each(function () {
                var n = e(this);
                if (n.data(a)) {
                  var i = n.data(a),
                    r = i.opt,
                    l = e("#mCSB_" + i.idx),
                    s = e("#mCSB_" + i.idx + "_container"),
                    c = e(".mCSB_" + i.idx + "_scrollbar");
                  r.live && m(r.liveSelector || e(t).selector),
                    q.call(this, "remove"),
                    k.call(this),
                    T.call(this),
                    n.removeData(a),
                    J(this, "mcs"),
                    c.remove(),
                    s.find("img." + d[2]).removeClass(d[2]),
                    l.replaceWith(s.contents()),
                    n
                      .removeClass(
                        o +
                          " _" +
                          a +
                          "_" +
                          i.idx +
                          " " +
                          d[6] +
                          " " +
                          d[7] +
                          " " +
                          d[5] +
                          " " +
                          d[3],
                      )
                      .addClass(d[4]);
                }
              });
            },
          },
          h = function () {
            return "object" != typeof e(this) || e(this).length < 1 ? n : this;
          },
          f = function (t) {
            (t.autoDraggerLength =
              !(
                e.inArray(t.theme, [
                  "rounded",
                  "rounded-dark",
                  "rounded-dots",
                  "rounded-dots-dark",
                ]) > -1
              ) && t.autoDraggerLength),
              (t.autoExpandScrollbar =
                !(
                  e.inArray(t.theme, [
                    "rounded-dots",
                    "rounded-dots-dark",
                    "3d",
                    "3d-dark",
                    "3d-thick",
                    "3d-thick-dark",
                    "inset",
                    "inset-dark",
                    "inset-2",
                    "inset-2-dark",
                    "inset-3",
                    "inset-3-dark",
                  ]) > -1
                ) && t.autoExpandScrollbar),
              (t.scrollButtons.enable =
                !(e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1) &&
                t.scrollButtons.enable),
              (t.autoHideScrollbar =
                e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1 ||
                t.autoHideScrollbar),
              (t.scrollbarPosition =
                e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1
                  ? "outside"
                  : t.scrollbarPosition);
          },
          m = function (e) {
            l[e] && (clearTimeout(l[e]), J(l, e));
          },
          p = function (e) {
            return "yx" === e || "xy" === e || "auto" === e
              ? "yx"
              : "x" === e || "horizontal" === e
              ? "x"
              : "y";
          },
          g = function (e) {
            return "stepped" === e ||
              "pixels" === e ||
              "step" === e ||
              "click" === e
              ? "stepped"
              : "stepless";
          },
          v = function () {
            var t = e(this),
              n = t.data(a),
              i = n.opt,
              r = i.autoExpandScrollbar ? " " + d[1] + "_expand" : "",
              l = [
                "<div id='mCSB_" +
                  n.idx +
                  "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" +
                  n.idx +
                  "_scrollbar mCS-" +
                  i.theme +
                  " mCSB_scrollTools_vertical" +
                  r +
                  "'><div class='" +
                  d[12] +
                  "'><div id='mCSB_" +
                  n.idx +
                  "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>",
                "<div id='mCSB_" +
                  n.idx +
                  "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" +
                  n.idx +
                  "_scrollbar mCS-" +
                  i.theme +
                  " mCSB_scrollTools_horizontal" +
                  r +
                  "'><div class='" +
                  d[12] +
                  "'><div id='mCSB_" +
                  n.idx +
                  "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>",
              ],
              s =
                "yx" === i.axis
                  ? "mCSB_vertical_horizontal"
                  : "x" === i.axis
                  ? "mCSB_horizontal"
                  : "mCSB_vertical",
              c = "yx" === i.axis ? l[0] + l[1] : "x" === i.axis ? l[1] : l[0],
              u =
                "yx" === i.axis
                  ? "<div id='mCSB_" +
                    n.idx +
                    "_container_wrapper' class='mCSB_container_wrapper' />"
                  : "",
              h = i.autoHideScrollbar ? " " + d[6] : "",
              f = "x" !== i.axis && "rtl" === n.langDir ? " " + d[7] : "";
            i.setWidth && t.css("width", i.setWidth),
              i.setHeight && t.css("height", i.setHeight),
              (i.setLeft =
                "y" !== i.axis && "rtl" === n.langDir ? "989999px" : i.setLeft),
              t
                .addClass(o + " _" + a + "_" + n.idx + h + f)
                .wrapInner(
                  "<div id='mCSB_" +
                    n.idx +
                    "' class='mCustomScrollBox mCS-" +
                    i.theme +
                    " " +
                    s +
                    "'><div id='mCSB_" +
                    n.idx +
                    "_container' class='mCSB_container' style='position:relative; top:" +
                    i.setTop +
                    "; left:" +
                    i.setLeft +
                    ";' dir=" +
                    n.langDir +
                    " /></div>",
                );
            var m = e("#mCSB_" + n.idx),
              p = e("#mCSB_" + n.idx + "_container");
            "y" === i.axis ||
              i.advanced.autoExpandHorizontalScroll ||
              p.css("width", x(p.children())),
              "outside" === i.scrollbarPosition
                ? ("static" === t.css("position") &&
                    t.css("position", "relative"),
                  t.css("overflow", "visible"),
                  m.addClass("mCSB_outside").after(c))
                : (m.addClass("mCSB_inside").append(c), p.wrap(u)),
              w.call(this);
            var g = [
              e("#mCSB_" + n.idx + "_dragger_vertical"),
              e("#mCSB_" + n.idx + "_dragger_horizontal"),
            ];
            g[0].css("min-height", g[0].height()),
              g[1].css("min-width", g[1].width());
          },
          x = function (t) {
            return Math.max.apply(
              Math,
              t
                .map(function () {
                  return e(this).outerWidth(!0);
                })
                .get(),
            );
          },
          _ = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = e("#mCSB_" + o.idx + "_container");
            n.advanced.autoExpandHorizontalScroll &&
              "y" !== n.axis &&
              i
                .css({ position: "absolute", width: "auto" })
                .wrap(
                  "<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />",
                )
                .css({
                  width:
                    Math.ceil(i[0].getBoundingClientRect().right + 0.4) -
                    Math.floor(i[0].getBoundingClientRect().left),
                  position: "relative",
                })
                .unwrap();
          },
          w = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = e(".mCSB_" + o.idx + "_scrollbar:first"),
              r = ee(n.scrollButtons.tabindex)
                ? "tabindex='" + n.scrollButtons.tabindex + "'"
                : "",
              l = [
                "<a href='#' class='" +
                  d[13] +
                  "' oncontextmenu='return false;' " +
                  r +
                  " />",
                "<a href='#' class='" +
                  d[14] +
                  "' oncontextmenu='return false;' " +
                  r +
                  " />",
                "<a href='#' class='" +
                  d[15] +
                  "' oncontextmenu='return false;' " +
                  r +
                  " />",
                "<a href='#' class='" +
                  d[16] +
                  "' oncontextmenu='return false;' " +
                  r +
                  " />",
              ],
              s = [
                "x" === n.axis ? l[2] : l[0],
                "x" === n.axis ? l[3] : l[1],
                l[2],
                l[3],
              ];
            n.scrollButtons.enable &&
              i
                .prepend(s[0])
                .append(s[1])
                .next(".mCSB_scrollTools")
                .prepend(s[2])
                .append(s[3]);
          },
          S = function () {
            var t = e(this),
              o = t.data(a),
              n = e("#mCSB_" + o.idx),
              i = t.css("max-height") || "none",
              r = -1 !== i.indexOf("%"),
              l = t.css("box-sizing");
            if ("none" !== i) {
              var s = r
                ? (t.parent().height() * parseInt(i)) / 100
                : parseInt(i);
              "border-box" === l &&
                (s -=
                  t.innerHeight() -
                  t.height() +
                  (t.outerHeight() - t.innerHeight())),
                n.css("max-height", Math.round(s));
            }
          },
          b = function () {
            var t = e(this),
              o = t.data(a),
              n = e("#mCSB_" + o.idx),
              i = e("#mCSB_" + o.idx + "_container"),
              r = [
                e("#mCSB_" + o.idx + "_dragger_vertical"),
                e("#mCSB_" + o.idx + "_dragger_horizontal"),
              ],
              l = [
                n.height() / i.outerHeight(!1),
                n.width() / i.outerWidth(!1),
              ],
              c = [
                parseInt(r[0].css("min-height")),
                Math.round(l[0] * r[0].parent().height()),
                parseInt(r[1].css("min-width")),
                Math.round(l[1] * r[1].parent().width()),
              ],
              d = s && c[1] < c[0] ? c[0] : c[1],
              u = s && c[3] < c[2] ? c[2] : c[3];
            r[0]
              .css({ height: d, "max-height": r[0].parent().height() - 10 })
              .find(".mCSB_dragger_bar")
              .css({ "line-height": c[0] + "px" }),
              r[1].css({ width: u, "max-width": r[1].parent().width() - 10 });
          },
          C = function () {
            var t = e(this),
              o = t.data(a),
              n = e("#mCSB_" + o.idx),
              i = e("#mCSB_" + o.idx + "_container"),
              r = [
                e("#mCSB_" + o.idx + "_dragger_vertical"),
                e("#mCSB_" + o.idx + "_dragger_horizontal"),
              ],
              l = [
                i.outerHeight(!1) - n.height(),
                i.outerWidth(!1) - n.width(),
              ],
              s = [
                l[0] / (r[0].parent().height() - r[0].height()),
                l[1] / (r[1].parent().width() - r[1].width()),
              ];
            o.scrollRatio = { y: s[0], x: s[1] };
          },
          y = function (e, t, o) {
            var a = o ? d[0] + "_expanded" : "",
              n = e.closest(".mCSB_scrollTools");
            "active" === t
              ? (e.toggleClass(d[0] + " " + a),
                n.toggleClass(d[1]),
                (e[0]._draggable = e[0]._draggable ? 0 : 1))
              : e[0]._draggable ||
                ("hide" === t
                  ? (e.removeClass(d[0]), n.removeClass(d[1]))
                  : (e.addClass(d[0]), n.addClass(d[1])));
          },
          B = function () {
            var t = e(this),
              o = t.data(a),
              n = e("#mCSB_" + o.idx),
              i = e("#mCSB_" + o.idx + "_container"),
              r = null == o.overflowed ? i.height() : i.outerHeight(!1),
              l = null == o.overflowed ? i.width() : i.outerWidth(!1);
            return [r > n.height(), l > n.width()];
          },
          T = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = e("#mCSB_" + o.idx),
              r = e("#mCSB_" + o.idx + "_container"),
              l = [
                e("#mCSB_" + o.idx + "_dragger_vertical"),
                e("#mCSB_" + o.idx + "_dragger_horizontal"),
              ];
            if (
              (N(t),
              (("x" !== n.axis && !o.overflowed[0]) ||
                ("y" === n.axis && o.overflowed[0])) &&
                (l[0].add(r).css("top", 0), V(t, "_resetY")),
              ("y" !== n.axis && !o.overflowed[1]) ||
                ("x" === n.axis && o.overflowed[1]))
            ) {
              var s = (dx = 0);
              "rtl" === o.langDir &&
                ((s = i.width() - r.outerWidth(!1)),
                (dx = Math.abs(s / o.scrollRatio.x))),
                r.css("left", s),
                l[1].css("left", dx),
                V(t, "_resetX");
            }
          },
          M = function () {
            var t,
              o = e(this),
              n = o.data(a),
              i = n.opt;
            n.bindEvents ||
              (D.call(this),
              i.contentTouchScroll && R.call(this),
              E.call(this),
              i.mouseWheel.enable &&
                (function a() {
                  t = setTimeout(function () {
                    e.event.special.mousewheel
                      ? (clearTimeout(t), L.call(o[0]))
                      : a();
                  }, 100);
                })(),
              P.call(this),
              H.call(this),
              i.advanced.autoScrollOnFocus && z.call(this),
              i.scrollButtons.enable && U.call(this),
              i.keyboard.enable && X.call(this),
              (n.bindEvents = !0));
          },
          k = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = a + "_" + o.idx,
              r = ".mCSB_" + o.idx + "_scrollbar",
              l = e(
                "#mCSB_" +
                  o.idx +
                  ",#mCSB_" +
                  o.idx +
                  "_container,#mCSB_" +
                  o.idx +
                  "_container_wrapper," +
                  r +
                  " ." +
                  d[12] +
                  ",#mCSB_" +
                  o.idx +
                  "_dragger_vertical,#mCSB_" +
                  o.idx +
                  "_dragger_horizontal," +
                  r +
                  ">a",
              ),
              s = e("#mCSB_" + o.idx + "_container");
            n.advanced.releaseDraggableSelectors &&
              l.add(e(n.advanced.releaseDraggableSelectors)),
              o.bindEvents &&
                (e(document).unbind("." + i),
                l.each(function () {
                  e(this).unbind("." + i);
                }),
                clearTimeout(t[0]._focusTimeout),
                J(t[0], "_focusTimeout"),
                clearTimeout(o.sequential.step),
                J(o.sequential, "step"),
                clearTimeout(s[0].onCompleteTimeout),
                J(s[0], "onCompleteTimeout"),
                (o.bindEvents = !1));
          },
          O = function (t) {
            var o = e(this),
              n = o.data(a),
              i = n.opt,
              r = e("#mCSB_" + n.idx + "_container_wrapper"),
              l = r.length ? r : e("#mCSB_" + n.idx + "_container"),
              s = [
                e("#mCSB_" + n.idx + "_scrollbar_vertical"),
                e("#mCSB_" + n.idx + "_scrollbar_horizontal"),
              ],
              c = [s[0].find(".mCSB_dragger"), s[1].find(".mCSB_dragger")];
            "x" !== i.axis &&
              (n.overflowed[0] && !t
                ? (s[0]
                    .add(c[0])
                    .add(s[0].children("a"))
                    .css("display", "block"),
                  l.removeClass(d[8] + " " + d[10]))
                : (i.alwaysShowScrollbar
                    ? (2 !== i.alwaysShowScrollbar &&
                        c[0].css("display", "none"),
                      l.removeClass(d[10]))
                    : (s[0].css("display", "none"), l.addClass(d[10])),
                  l.addClass(d[8]))),
              "y" !== i.axis &&
                (n.overflowed[1] && !t
                  ? (s[1]
                      .add(c[1])
                      .add(s[1].children("a"))
                      .css("display", "block"),
                    l.removeClass(d[9] + " " + d[11]))
                  : (i.alwaysShowScrollbar
                      ? (2 !== i.alwaysShowScrollbar &&
                          c[1].css("display", "none"),
                        l.removeClass(d[11]))
                      : (s[1].css("display", "none"), l.addClass(d[11])),
                    l.addClass(d[9]))),
              n.overflowed[0] || n.overflowed[1]
                ? o.removeClass(d[5])
                : o.addClass(d[5]);
          },
          I = function (e) {
            var t = e.type;
            switch (t) {
              case "pointerdown":
              case "MSPointerDown":
              case "pointermove":
              case "MSPointerMove":
              case "pointerup":
              case "MSPointerUp":
                return e.target.ownerDocument !== document
                  ? [e.originalEvent.screenY, e.originalEvent.screenX, !1]
                  : [e.originalEvent.pageY, e.originalEvent.pageX, !1];
              case "touchstart":
              case "touchmove":
              case "touchend":
                var o =
                    e.originalEvent.touches[0] ||
                    e.originalEvent.changedTouches[0],
                  a =
                    e.originalEvent.touches.length ||
                    e.originalEvent.changedTouches.length;
                return e.target.ownerDocument !== document
                  ? [o.screenY, o.screenX, a > 1]
                  : [o.pageY, o.pageX, a > 1];
              default:
                return [e.pageY, e.pageX, !1];
            }
          },
          D = function () {
            function t(e) {
              var t = m.find("iframe");
              if (t.length) {
                var o = e ? "auto" : "none";
                t.css("pointer-events", o);
              }
            }
            function o(e, t, o, a) {
              if (
                ((m[0].idleTimer = u.scrollInertia < 233 ? 250 : 0),
                n.attr("id") === f[1])
              )
                var i = "x",
                  r = (n[0].offsetLeft - t + a) * d.scrollRatio.x;
              else
                var i = "y",
                  r = (n[0].offsetTop - e + o) * d.scrollRatio.y;
              V(l, r.toString(), { dir: i, drag: !0 });
            }
            var n,
              i,
              r,
              l = e(this),
              d = l.data(a),
              u = d.opt,
              h = a + "_" + d.idx,
              f = [
                "mCSB_" + d.idx + "_dragger_vertical",
                "mCSB_" + d.idx + "_dragger_horizontal",
              ],
              m = e("#mCSB_" + d.idx + "_container"),
              p = e("#" + f[0] + ",#" + f[1]),
              g = u.advanced.releaseDraggableSelectors
                ? p.add(e(u.advanced.releaseDraggableSelectors))
                : p;
            p
              .bind(
                "mousedown." +
                  h +
                  " touchstart." +
                  h +
                  " pointerdown." +
                  h +
                  " MSPointerDown." +
                  h,
                function (o) {
                  if (
                    (o.stopImmediatePropagation(), o.preventDefault(), K(o))
                  ) {
                    (c = !0),
                      s &&
                        (document.onselectstart = function () {
                          return !1;
                        }),
                      t(!1),
                      N(l);
                    var a = (n = e(this)).offset(),
                      d = I(o)[0] - a.top,
                      h = I(o)[1] - a.left,
                      f = n.height() + a.top,
                      m = n.width() + a.left;
                    f > d && d > 0 && m > h && h > 0 && ((i = d), (r = h)),
                      y(n, "active", u.autoExpandScrollbar);
                  }
                },
              )
              .bind("touchmove." + h, function (e) {
                e.stopImmediatePropagation(), e.preventDefault();
                var t = n.offset(),
                  a = I(e)[0] - t.top,
                  l = I(e)[1] - t.left;
                o(i, r, a, l);
              }),
              e(document)
                .bind(
                  "mousemove." +
                    h +
                    " pointermove." +
                    h +
                    " MSPointerMove." +
                    h,
                  function (e) {
                    if (n) {
                      var t = n.offset(),
                        a = I(e)[0] - t.top,
                        l = I(e)[1] - t.left;
                      if (i === a) return;
                      o(i, r, a, l);
                    }
                  },
                )
                .add(g)
                .bind(
                  "mouseup." +
                    h +
                    " touchend." +
                    h +
                    " pointerup." +
                    h +
                    " MSPointerUp." +
                    h,
                  function (e) {
                    n && (y(n, "active", u.autoExpandScrollbar), (n = null)),
                      (c = !1),
                      s && (document.onselectstart = null),
                      t(!0);
                  },
                );
          },
          R = function () {
            function o(e) {
              if (!$(e) || c || I(e)[2]) t = 0;
              else {
                (t = 1), (S = 0), (b = 0), C.removeClass("mCS_touch_action");
                var o = k.offset();
                (d = I(e)[0] - o.top),
                  (u = I(e)[1] - o.left),
                  (A = [I(e)[0], I(e)[1]]);
              }
            }
            function n(e) {
              if (
                $(e) &&
                !c &&
                !I(e)[2] &&
                (e.stopImmediatePropagation(), !b || S)
              ) {
                p = Z();
                var t = M.offset(),
                  o = I(e)[0] - t.top,
                  a = I(e)[1] - t.left,
                  n = "mcsLinearOut";
                if (
                  (D.push(o),
                  R.push(a),
                  (A[2] = Math.abs(I(e)[0] - A[0])),
                  (A[3] = Math.abs(I(e)[1] - A[1])),
                  y.overflowed[0])
                )
                  var i = O[0].parent().height() - O[0].height(),
                    r =
                      d - o > 0 &&
                      o - d > -i * y.scrollRatio.y &&
                      (2 * A[3] < A[2] || "yx" === B.axis);
                if (y.overflowed[1])
                  var l = O[1].parent().width() - O[1].width(),
                    h =
                      u - a > 0 &&
                      a - u > -l * y.scrollRatio.x &&
                      (2 * A[2] < A[3] || "yx" === B.axis);
                r || h
                  ? (e.preventDefault(), (S = 1))
                  : ((b = 1), C.addClass("mCS_touch_action")),
                  (_ =
                    "yx" === B.axis
                      ? [d - o, u - a]
                      : "x" === B.axis
                      ? [null, u - a]
                      : [d - o, null]),
                  (k[0].idleTimer = 250),
                  y.overflowed[0] && s(_[0], E, n, "y", "all", !0),
                  y.overflowed[1] && s(_[1], E, n, "x", L, !0);
              }
            }
            function i(e) {
              if (!$(e) || c || I(e)[2]) t = 0;
              else {
                (t = 1), e.stopImmediatePropagation(), N(C), (m = Z());
                var o = M.offset();
                (h = I(e)[0] - o.top),
                  (f = I(e)[1] - o.left),
                  (D = []),
                  (R = []);
              }
            }
            function r(e) {
              if ($(e) && !c && !I(e)[2]) {
                e.stopImmediatePropagation(), (S = 0), (b = 0), (g = Z());
                var t = M.offset(),
                  o = I(e)[0] - t.top,
                  a = I(e)[1] - t.left;
                if (!(g - p > 30)) {
                  var n = "mcsEaseOut",
                    i = 2.5 > (x = 1e3 / (g - m)),
                    r = i ? [D[D.length - 2], R[R.length - 2]] : [0, 0];
                  v = i ? [o - r[0], a - r[1]] : [o - h, a - f];
                  var d = [Math.abs(v[0]), Math.abs(v[1])];
                  x = i ? [Math.abs(v[0] / 4), Math.abs(v[1] / 4)] : [x, x];
                  var u = [
                    Math.abs(k[0].offsetTop) - v[0] * l(d[0] / x[0], x[0]),
                    Math.abs(k[0].offsetLeft) - v[1] * l(d[1] / x[1], x[1]),
                  ];
                  (_ =
                    "yx" === B.axis
                      ? [u[0], u[1]]
                      : "x" === B.axis
                      ? [null, u[1]]
                      : [u[0], null]),
                    (w = [
                      4 * d[0] + B.scrollInertia,
                      4 * d[1] + B.scrollInertia,
                    ]);
                  var C = parseInt(B.contentTouchScroll) || 0;
                  (_[0] = d[0] > C ? _[0] : 0),
                    (_[1] = d[1] > C ? _[1] : 0),
                    y.overflowed[0] && s(_[0], w[0], n, "y", L, !1),
                    y.overflowed[1] && s(_[1], w[1], n, "x", L, !1);
                }
              }
            }
            function l(e, t) {
              var o = [1.5 * t, 2 * t, t / 1.5, t / 2];
              return e > 90
                ? t > 4
                  ? o[0]
                  : o[3]
                : e > 60
                ? t > 3
                  ? o[3]
                  : o[2]
                : e > 30
                ? t > 8
                  ? o[1]
                  : t > 6
                  ? o[0]
                  : t > 4
                  ? t
                  : o[2]
                : t > 8
                ? t
                : o[3];
            }
            function s(e, t, o, a, n, i) {
              e &&
                V(C, e.toString(), {
                  dur: t,
                  scrollEasing: o,
                  dir: a,
                  overwrite: n,
                  drag: i,
                });
            }
            var d,
              u,
              h,
              f,
              m,
              p,
              g,
              v,
              x,
              _,
              w,
              S,
              b,
              C = e(this),
              y = C.data(a),
              B = y.opt,
              T = a + "_" + y.idx,
              M = e("#mCSB_" + y.idx),
              k = e("#mCSB_" + y.idx + "_container"),
              O = [
                e("#mCSB_" + y.idx + "_dragger_vertical"),
                e("#mCSB_" + y.idx + "_dragger_horizontal"),
              ],
              D = [],
              R = [],
              E = 0,
              L = "yx" === B.axis ? "none" : "all",
              A = [],
              P = k.find("iframe"),
              z = [
                "touchstart." + T + " pointerdown." + T + " MSPointerDown." + T,
                "touchmove." + T + " pointermove." + T + " MSPointerMove." + T,
                "touchend." + T + " pointerup." + T + " MSPointerUp." + T,
              ];
            k
              .bind(z[0], function (e) {
                o(e);
              })
              .bind(z[1], function (e) {
                n(e);
              }),
              M.bind(z[0], function (e) {
                i(e);
              }).bind(z[2], function (e) {
                r(e);
              }),
              P.length &&
                P.each(function () {
                  e(this).load(function () {
                    W(this) &&
                      e(this.contentDocument || this.contentWindow.document)
                        .bind(z[0], function (e) {
                          o(e), i(e);
                        })
                        .bind(z[1], function (e) {
                          n(e);
                        })
                        .bind(z[2], function (e) {
                          r(e);
                        });
                  });
                });
          },
          E = function () {
            function o(e, t, o) {
              (s.type = o && n ? "stepped" : "stepless"),
                (s.scrollAmount = 10),
                Y(i, e, t, "mcsLinearOut", o ? 60 : null);
            }
            var n,
              i = e(this),
              r = i.data(a),
              l = r.opt,
              s = r.sequential,
              d = a + "_" + r.idx,
              u = e("#mCSB_" + r.idx + "_container"),
              h = u.parent();
            u.bind("mousedown." + d, function (e) {
              t || n || ((n = 1), (c = !0));
            })
              .add(document)
              .bind("mousemove." + d, function (e) {
                if (
                  !t &&
                  n &&
                  (window.getSelection
                    ? window.getSelection().toString()
                    : document.selection &&
                      "Control" != document.selection.type &&
                      document.selection.createRange().text)
                ) {
                  var a = u.offset(),
                    i = I(e)[0] - a.top + u[0].offsetTop,
                    c = I(e)[1] - a.left + u[0].offsetLeft;
                  i > 0 && i < h.height() && c > 0 && c < h.width()
                    ? s.step && o("off", null, "stepped")
                    : ("x" !== l.axis &&
                        r.overflowed[0] &&
                        (0 > i ? o("on", 38) : i > h.height() && o("on", 40)),
                      "y" !== l.axis &&
                        r.overflowed[1] &&
                        (0 > c ? o("on", 37) : c > h.width() && o("on", 39)));
                }
              })
              .bind("mouseup." + d, function (e) {
                t || (n && ((n = 0), o("off", null)), (c = !1));
              });
          },
          L = function () {
            function t(t, a) {
              if ((N(o), !A(o, t.target))) {
                var r =
                  "auto" !== i.mouseWheel.deltaFactor
                    ? parseInt(i.mouseWheel.deltaFactor)
                    : s && t.deltaFactor < 100
                    ? 100
                    : t.deltaFactor || 100;
                if ("x" === i.axis || "x" === i.mouseWheel.axis)
                  var d = "x",
                    u = [
                      Math.round(r * n.scrollRatio.x),
                      parseInt(i.mouseWheel.scrollAmount),
                    ],
                    h =
                      "auto" !== i.mouseWheel.scrollAmount
                        ? u[1]
                        : u[0] >= l.width()
                        ? 0.9 * l.width()
                        : u[0],
                    f = Math.abs(
                      e("#mCSB_" + n.idx + "_container")[0].offsetLeft,
                    ),
                    m = c[1][0].offsetLeft,
                    p = c[1].parent().width() - c[1].width(),
                    g = t.deltaX || t.deltaY || a;
                else
                  var d = "y",
                    u = [
                      Math.round(r * n.scrollRatio.y),
                      parseInt(i.mouseWheel.scrollAmount),
                    ],
                    h =
                      "auto" !== i.mouseWheel.scrollAmount
                        ? u[1]
                        : u[0] >= l.height()
                        ? 0.9 * l.height()
                        : u[0],
                    f = Math.abs(
                      e("#mCSB_" + n.idx + "_container")[0].offsetTop,
                    ),
                    m = c[0][0].offsetTop,
                    p = c[0].parent().height() - c[0].height(),
                    g = t.deltaY || a;
                ("y" === d && !n.overflowed[0]) ||
                  ("x" === d && !n.overflowed[1]) ||
                  ((i.mouseWheel.invert ||
                    t.webkitDirectionInvertedFromDevice) &&
                    (g = -g),
                  i.mouseWheel.normalizeDelta && (g = 0 > g ? -1 : 1),
                  ((g > 0 && 0 !== m) ||
                    (0 > g && m !== p) ||
                    i.mouseWheel.preventDefault) &&
                    (t.stopImmediatePropagation(), t.preventDefault()),
                  V(o, (f - g * h).toString(), { dir: d }));
              }
            }
            if (e(this).data(a)) {
              var o = e(this),
                n = o.data(a),
                i = n.opt,
                r = a + "_" + n.idx,
                l = e("#mCSB_" + n.idx),
                c = [
                  e("#mCSB_" + n.idx + "_dragger_vertical"),
                  e("#mCSB_" + n.idx + "_dragger_horizontal"),
                ],
                d = e("#mCSB_" + n.idx + "_container").find("iframe");
              d.length &&
                d.each(function () {
                  e(this).load(function () {
                    W(this) &&
                      e(
                        this.contentDocument || this.contentWindow.document,
                      ).bind("mousewheel." + r, function (e, o) {
                        t(e, o);
                      });
                  });
                }),
                l.bind("mousewheel." + r, function (e, o) {
                  t(e, o);
                });
            }
          },
          W = function (e) {
            var t = null;
            try {
              var o = e.contentDocument || e.contentWindow.document;
              t = o.body.innerHTML;
            } catch (e) {}
            return null !== t;
          },
          A = function (t, o) {
            var n = o.nodeName.toLowerCase(),
              i = t.data(a).opt.mouseWheel.disableOver;
            return (
              e.inArray(n, i) > -1 &&
              !(e.inArray(n, ["select", "textarea"]) > -1 && !e(o).is(":focus"))
            );
          },
          P = function () {
            var t = e(this),
              o = t.data(a),
              n = a + "_" + o.idx,
              i = e("#mCSB_" + o.idx + "_container"),
              r = i.parent(),
              l = e(".mCSB_" + o.idx + "_scrollbar ." + d[12]);
            l.bind(
              "touchstart." + n + " pointerdown." + n + " MSPointerDown." + n,
              function (e) {
                c = !0;
              },
            )
              .bind(
                "touchend." + n + " pointerup." + n + " MSPointerUp." + n,
                function (e) {
                  c = !1;
                },
              )
              .bind("click." + n, function (a) {
                if (
                  e(a.target).hasClass(d[12]) ||
                  e(a.target).hasClass("mCSB_draggerRail")
                ) {
                  N(t);
                  var n = e(this),
                    l = n.find(".mCSB_dragger");
                  if (n.parent(".mCSB_scrollTools_horizontal").length > 0) {
                    if (!o.overflowed[1]) return;
                    var s = "x",
                      c = a.pageX > l.offset().left ? -1 : 1,
                      u = Math.abs(i[0].offsetLeft) - 0.9 * c * r.width();
                  } else {
                    if (!o.overflowed[0]) return;
                    var s = "y",
                      c = a.pageY > l.offset().top ? -1 : 1,
                      u = Math.abs(i[0].offsetTop) - 0.9 * c * r.height();
                  }
                  V(t, u.toString(), { dir: s, scrollEasing: "mcsEaseInOut" });
                }
              });
          },
          z = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = a + "_" + o.idx,
              r = e("#mCSB_" + o.idx + "_container"),
              l = r.parent();
            r.bind("focusin." + i, function (o) {
              var a = e(document.activeElement),
                i = r.find(".mCustomScrollBox").length;
              a.is(n.advanced.autoScrollOnFocus) &&
                (N(t),
                clearTimeout(t[0]._focusTimeout),
                (t[0]._focusTimer = i ? 17 * i : 0),
                (t[0]._focusTimeout = setTimeout(function () {
                  var e = [te(a)[0], te(a)[1]],
                    o = [r[0].offsetTop, r[0].offsetLeft],
                    i = [
                      o[0] + e[0] >= 0 &&
                        o[0] + e[0] < l.height() - a.outerHeight(!1),
                      o[1] + e[1] >= 0 &&
                        o[0] + e[1] < l.width() - a.outerWidth(!1),
                    ],
                    s = "yx" !== n.axis || i[0] || i[1] ? "all" : "none";
                  "x" === n.axis ||
                    i[0] ||
                    V(t, e[0].toString(), {
                      dir: "y",
                      scrollEasing: "mcsEaseInOut",
                      overwrite: s,
                      dur: 0,
                    }),
                    "y" === n.axis ||
                      i[1] ||
                      V(t, e[1].toString(), {
                        dir: "x",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: s,
                        dur: 0,
                      });
                }, t[0]._focusTimer)));
            });
          },
          H = function () {
            var t = e(this),
              o = t.data(a),
              n = a + "_" + o.idx,
              i = e("#mCSB_" + o.idx + "_container").parent();
            i.bind("scroll." + n, function (t) {
              (0 !== i.scrollTop() || 0 !== i.scrollLeft()) &&
                e(".mCSB_" + o.idx + "_scrollbar").css("visibility", "hidden");
            });
          },
          U = function () {
            var t = e(this),
              o = t.data(a),
              n = o.opt,
              i = o.sequential,
              r = a + "_" + o.idx,
              l = ".mCSB_" + o.idx + "_scrollbar",
              s = e(l + ">a");
            s.bind(
              "mousedown." +
                r +
                " touchstart." +
                r +
                " pointerdown." +
                r +
                " MSPointerDown." +
                r +
                " mouseup." +
                r +
                " touchend." +
                r +
                " pointerup." +
                r +
                " MSPointerUp." +
                r +
                " mouseout." +
                r +
                " pointerout." +
                r +
                " MSPointerOut." +
                r +
                " click." +
                r,
              function (a) {
                function r(e, o) {
                  (i.scrollAmount =
                    n.snapAmount || n.scrollButtons.scrollAmount),
                    Y(t, e, o);
                }
                if ((a.preventDefault(), K(a))) {
                  var l = e(this).attr("class");
                  switch (((i.type = n.scrollButtons.scrollType), a.type)) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                      if ("stepped" === i.type) return;
                      (c = !0), (o.tweenRunning = !1), r("on", l);
                      break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                      if ("stepped" === i.type) return;
                      (c = !1), i.dir && r("off", l);
                      break;
                    case "click":
                      if ("stepped" !== i.type || o.tweenRunning) return;
                      r("on", l);
                  }
                }
              },
            );
          },
          X = function () {
            function t(t) {
              function a(e, t) {
                (r.type = i.keyboard.scrollType),
                  (r.scrollAmount = i.snapAmount || i.keyboard.scrollAmount),
                  ("stepped" === r.type && n.tweenRunning) || Y(o, e, t);
              }
              switch (t.type) {
                case "blur":
                  n.tweenRunning && r.dir && a("off", null);
                  break;
                case "keydown":
                case "keyup":
                  var l = t.keyCode ? t.keyCode : t.which,
                    s = "on";
                  if (
                    ("x" !== i.axis && (38 === l || 40 === l)) ||
                    ("y" !== i.axis && (37 === l || 39 === l))
                  ) {
                    if (
                      ((38 === l || 40 === l) && !n.overflowed[0]) ||
                      ((37 === l || 39 === l) && !n.overflowed[1])
                    )
                      return;
                    "keyup" === t.type && (s = "off"),
                      e(document.activeElement).is(u) ||
                        (t.preventDefault(),
                        t.stopImmediatePropagation(),
                        a(s, l));
                  } else if (33 === l || 34 === l) {
                    if (
                      ((n.overflowed[0] || n.overflowed[1]) &&
                        (t.preventDefault(), t.stopImmediatePropagation()),
                      "keyup" === t.type)
                    ) {
                      N(o);
                      var h = 34 === l ? -1 : 1;
                      if (
                        "x" === i.axis ||
                        ("yx" === i.axis && n.overflowed[1] && !n.overflowed[0])
                      )
                        var f = "x",
                          m = Math.abs(c[0].offsetLeft) - 0.9 * h * d.width();
                      else
                        var f = "y",
                          m = Math.abs(c[0].offsetTop) - 0.9 * h * d.height();
                      V(o, m.toString(), {
                        dir: f,
                        scrollEasing: "mcsEaseInOut",
                      });
                    }
                  } else if (
                    (35 === l || 36 === l) &&
                    !e(document.activeElement).is(u) &&
                    ((n.overflowed[0] || n.overflowed[1]) &&
                      (t.preventDefault(), t.stopImmediatePropagation()),
                    "keyup" === t.type)
                  ) {
                    if (
                      "x" === i.axis ||
                      ("yx" === i.axis && n.overflowed[1] && !n.overflowed[0])
                    )
                      var f = "x",
                        m =
                          35 === l ? Math.abs(d.width() - c.outerWidth(!1)) : 0;
                    else
                      var f = "y",
                        m =
                          35 === l
                            ? Math.abs(d.height() - c.outerHeight(!1))
                            : 0;
                    V(o, m.toString(), {
                      dir: f,
                      scrollEasing: "mcsEaseInOut",
                    });
                  }
              }
            }
            var o = e(this),
              n = o.data(a),
              i = n.opt,
              r = n.sequential,
              l = a + "_" + n.idx,
              s = e("#mCSB_" + n.idx),
              c = e("#mCSB_" + n.idx + "_container"),
              d = c.parent(),
              u =
                "input,textarea,select,datalist,keygen,[contenteditable='true']",
              h = c.find("iframe"),
              f = ["blur." + l + " keydown." + l + " keyup." + l];
            h.length &&
              h.each(function () {
                e(this).load(function () {
                  W(this) &&
                    e(this.contentDocument || this.contentWindow.document).bind(
                      f[0],
                      function (e) {
                        t(e);
                      },
                    );
                });
              }),
              s.attr("tabindex", "0").bind(f[0], function (e) {
                t(e);
              });
          },
          Y = function (t, o, n, i, r) {
            function l(e) {
              var o = "stepped" !== u.type,
                a = r || (e ? (o ? m / 1.5 : p) : 1e3 / 60),
                n = e ? (o ? 7.5 : 40) : 2.5,
                c = [Math.abs(h[0].offsetTop), Math.abs(h[0].offsetLeft)],
                d = [
                  s.scrollRatio.y > 10 ? 10 : s.scrollRatio.y,
                  s.scrollRatio.x > 10 ? 10 : s.scrollRatio.x,
                ],
                f =
                  "x" === u.dir[0]
                    ? c[1] + u.dir[1] * d[1] * n
                    : c[0] + u.dir[1] * d[0] * n,
                g =
                  "x" === u.dir[0]
                    ? c[1] + u.dir[1] * parseInt(u.scrollAmount)
                    : c[0] + u.dir[1] * parseInt(u.scrollAmount),
                v = "auto" !== u.scrollAmount ? g : f,
                x =
                  i ||
                  (e ? (o ? "mcsLinearOut" : "mcsEaseInOut") : "mcsLinear"),
                _ = !!e;
              return (
                e && 17 > a && (v = "x" === u.dir[0] ? c[1] : c[0]),
                V(t, v.toString(), {
                  dir: u.dir[0],
                  scrollEasing: x,
                  dur: a,
                  onComplete: _,
                }),
                e
                  ? void (u.dir = !1)
                  : (clearTimeout(u.step),
                    void (u.step = setTimeout(function () {
                      l();
                    }, a)))
              );
            }
            var s = t.data(a),
              c = s.opt,
              u = s.sequential,
              h = e("#mCSB_" + s.idx + "_container"),
              f = "stepped" === u.type,
              m = c.scrollInertia < 26 ? 26 : c.scrollInertia,
              p = c.scrollInertia < 1 ? 17 : c.scrollInertia;
            switch (o) {
              case "on":
                if (
                  ((u.dir = [
                    n === d[16] || n === d[15] || 39 === n || 37 === n
                      ? "x"
                      : "y",
                    n === d[13] || n === d[15] || 38 === n || 37 === n ? -1 : 1,
                  ]),
                  N(t),
                  ee(n) && "stepped" === u.type)
                )
                  return;
                l(f);
                break;
              case "off":
                clearTimeout(u.step),
                  J(u, "step"),
                  N(t),
                  (f || (s.tweenRunning && u.dir)) && l(!0);
            }
          },
          j = function (t) {
            var o = e(this).data(a).opt,
              n = [];
            return (
              "function" == typeof t && (t = t()),
              t instanceof Array
                ? (n =
                    t.length > 1
                      ? [t[0], t[1]]
                      : "x" === o.axis
                      ? [null, t[0]]
                      : [t[0], null])
                : ((n[0] = t.y ? t.y : t.x || "x" === o.axis ? null : t),
                  (n[1] = t.x ? t.x : t.y || "y" === o.axis ? null : t)),
              "function" == typeof n[0] && (n[0] = n[0]()),
              "function" == typeof n[1] && (n[1] = n[1]()),
              n
            );
          },
          F = function (t, o) {
            if (null != t && void 0 !== t) {
              var n = e(this),
                i = n.data(a),
                r = i.opt,
                l = e("#mCSB_" + i.idx + "_container"),
                s = l.parent(),
                c = typeof t;
              o || (o = "x" === r.axis ? "x" : "y");
              var d = "x" === o ? l.outerWidth(!1) : l.outerHeight(!1),
                h = "x" === o ? l[0].offsetLeft : l[0].offsetTop,
                f = "x" === o ? "left" : "top";
              switch (c) {
                case "function":
                  return t();
                case "object":
                  var m = t.jquery ? t : e(t);
                  if (!m.length) return;
                  return "x" === o ? te(m)[1] : te(m)[0];
                case "string":
                case "number":
                  if (ee(t)) return Math.abs(t);
                  if (-1 !== t.indexOf("%"))
                    return Math.abs((d * parseInt(t)) / 100);
                  if (-1 !== t.indexOf("-="))
                    return Math.abs(h - parseInt(t.split("-=")[1]));
                  if (-1 !== t.indexOf("+=")) {
                    var p = h + parseInt(t.split("+=")[1]);
                    return p >= 0 ? 0 : Math.abs(p);
                  }
                  if (-1 !== t.indexOf("px") && ee(t.split("px")[0]))
                    return Math.abs(t.split("px")[0]);
                  if ("top" === t || "left" === t) return 0;
                  if ("bottom" === t)
                    return Math.abs(s.height() - l.outerHeight(!1));
                  if ("right" === t)
                    return Math.abs(s.width() - l.outerWidth(!1));
                  if ("first" === t || "last" === t) {
                    var m = l.find(":" + t);
                    return "x" === o ? te(m)[1] : te(m)[0];
                  }
                  return e(t).length
                    ? "x" === o
                      ? te(e(t))[1]
                      : te(e(t))[0]
                    : (l.css(f, t), void u.update.call(null, n[0]));
              }
            }
          },
          q = function (t) {
            function o() {
              var e = 0;
              return (
                s.advanced.updateOnImageLoad && (e = c.find("img").length), e
              );
            }
            function n() {
              !0 === s.advanced.updateOnSelectorChange &&
                (s.advanced.updateOnSelectorChange = "*");
              var t = 0,
                o = c.find(s.advanced.updateOnSelectorChange);
              return (
                s.advanced.updateOnSelectorChange &&
                  o.length > 0 &&
                  o.each(function () {
                    t += e(this).height() + e(this).width();
                  }),
                t
              );
            }
            function i(e) {
              clearTimeout(c[0].autoUpdate), u.update.call(null, r[0], e);
            }
            var r = e(this),
              l = r.data(a),
              s = l.opt,
              c = e("#mCSB_" + l.idx + "_container");
            if (t)
              return clearTimeout(c[0].autoUpdate), void J(c[0], "autoUpdate");
            var h,
              f,
              m,
              p = c.parent(),
              g = [
                e("#mCSB_" + l.idx + "_scrollbar_vertical"),
                e("#mCSB_" + l.idx + "_scrollbar_horizontal"),
              ],
              v = function () {
                return [
                  g[0].is(":visible") ? g[0].outerHeight(!0) : 0,
                  g[1].is(":visible") ? g[1].outerWidth(!0) : 0,
                ];
              },
              x = n(),
              _ = [
                c.outerHeight(!1),
                c.outerWidth(!1),
                p.height(),
                p.width(),
                v()[0],
                v()[1],
              ],
              w = o();
            !(function t() {
              return (
                clearTimeout(c[0].autoUpdate),
                0 === r.parents("html").length
                  ? void (r = null)
                  : void (c[0].autoUpdate = setTimeout(function () {
                      return s.advanced.updateOnSelectorChange &&
                        (h = n()) !== x
                        ? (i(3), void (x = h))
                        : (s.advanced.updateOnContentResize &&
                            ((f = [
                              c.outerHeight(!1),
                              c.outerWidth(!1),
                              p.height(),
                              p.width(),
                              v()[0],
                              v()[1],
                            ])[0] !== _[0] ||
                              f[1] !== _[1] ||
                              f[2] !== _[2] ||
                              f[3] !== _[3] ||
                              f[4] !== _[4] ||
                              f[5] !== _[5]) &&
                            (i(f[0] !== _[0] || f[1] !== _[1]), (_ = f)),
                          s.advanced.updateOnImageLoad &&
                            (m = o()) !== w &&
                            (c.find("img").each(function () {
                              !(function (t) {
                                if (e(t).hasClass(d[2])) i();
                                else {
                                  var o = new Image();
                                  (o.onload = (function (e, t) {
                                    return function () {
                                      return t.apply(e, arguments);
                                    };
                                  })(o, function () {
                                    (this.onload = null),
                                      e(t).addClass(d[2]),
                                      i(2);
                                  })),
                                    (o.src = t.src);
                                }
                              })(this);
                            }),
                            (w = m)),
                          void (
                            (s.advanced.updateOnSelectorChange ||
                              s.advanced.updateOnContentResize ||
                              s.advanced.updateOnImageLoad) &&
                            t()
                          ));
                    }, s.advanced.autoUpdateTimeout))
              );
            })();
          },
          N = function (t) {
            var o = t.data(a),
              n = e(
                "#mCSB_" +
                  o.idx +
                  "_container,#mCSB_" +
                  o.idx +
                  "_container_wrapper,#mCSB_" +
                  o.idx +
                  "_dragger_vertical,#mCSB_" +
                  o.idx +
                  "_dragger_horizontal",
              );
            n.each(function () {
              G.call(this);
            });
          },
          V = function (t, o, n) {
            function i(e) {
              return l && s.callbacks[e] && "function" == typeof s.callbacks[e];
            }
            function r() {
              var e = [h[0].offsetTop, h[0].offsetLeft],
                o = [g[0].offsetTop, g[0].offsetLeft],
                a = [h.outerHeight(!1), h.outerWidth(!1)],
                i = [u.height(), u.width()];
              t[0].mcs = {
                content: h,
                top: e[0],
                left: e[1],
                draggerTop: o[0],
                draggerLeft: o[1],
                topPct: Math.round(
                  (100 * Math.abs(e[0])) / (Math.abs(a[0]) - i[0]),
                ),
                leftPct: Math.round(
                  (100 * Math.abs(e[1])) / (Math.abs(a[1]) - i[1]),
                ),
                direction: n.dir,
              };
            }
            var l = t.data(a),
              s = l.opt,
              c = {
                trigger: "internal",
                dir: "y",
                scrollEasing: "mcsEaseOut",
                drag: !1,
                dur: s.scrollInertia,
                overwrite: "all",
                callbacks: !0,
                onStart: !0,
                onUpdate: !0,
                onComplete: !0,
              },
              n = e.extend(c, n),
              d = [n.dur, n.drag ? 0 : n.dur],
              u = e("#mCSB_" + l.idx),
              h = e("#mCSB_" + l.idx + "_container"),
              f = h.parent(),
              m = s.callbacks.onTotalScrollOffset
                ? j.call(t, s.callbacks.onTotalScrollOffset)
                : [0, 0],
              p = s.callbacks.onTotalScrollBackOffset
                ? j.call(t, s.callbacks.onTotalScrollBackOffset)
                : [0, 0];
            if (
              ((l.trigger = n.trigger),
              (0 !== f.scrollTop() || 0 !== f.scrollLeft()) &&
                (e(".mCSB_" + l.idx + "_scrollbar").css(
                  "visibility",
                  "visible",
                ),
                f.scrollTop(0).scrollLeft(0)),
              "_resetY" !== o ||
                l.contentReset.y ||
                (i("onOverflowYNone") && s.callbacks.onOverflowYNone.call(t[0]),
                (l.contentReset.y = 1)),
              "_resetX" !== o ||
                l.contentReset.x ||
                (i("onOverflowXNone") && s.callbacks.onOverflowXNone.call(t[0]),
                (l.contentReset.x = 1)),
              "_resetY" !== o && "_resetX" !== o)
            ) {
              switch (
                ((!l.contentReset.y && t[0].mcs) ||
                  !l.overflowed[0] ||
                  (i("onOverflowY") && s.callbacks.onOverflowY.call(t[0]),
                  (l.contentReset.x = null)),
                (!l.contentReset.x && t[0].mcs) ||
                  !l.overflowed[1] ||
                  (i("onOverflowX") && s.callbacks.onOverflowX.call(t[0]),
                  (l.contentReset.x = null)),
                s.snapAmount &&
                  (o = (function (e, t, o) {
                    return Math.round(e / t) * t - o;
                  })(o, s.snapAmount, s.snapOffset)),
                n.dir)
              ) {
                case "x":
                  var g = e("#mCSB_" + l.idx + "_dragger_horizontal"),
                    v = "left",
                    x = h[0].offsetLeft,
                    _ = [
                      u.width() - h.outerWidth(!1),
                      g.parent().width() - g.width(),
                    ],
                    w = [o, 0 === o ? 0 : o / l.scrollRatio.x],
                    S = m[1],
                    b = p[1],
                    C = S > 0 ? S / l.scrollRatio.x : 0,
                    B = b > 0 ? b / l.scrollRatio.x : 0;
                  break;
                case "y":
                  var g = e("#mCSB_" + l.idx + "_dragger_vertical"),
                    v = "top",
                    x = h[0].offsetTop,
                    _ = [
                      u.height() - h.outerHeight(!1),
                      g.parent().height() - g.height(),
                    ],
                    w = [o, 0 === o ? 0 : o / l.scrollRatio.y],
                    S = m[0],
                    b = p[0],
                    C = S > 0 ? S / l.scrollRatio.y : 0,
                    B = b > 0 ? b / l.scrollRatio.y : 0;
              }
              w[1] < 0 || (0 === w[0] && 0 === w[1])
                ? (w = [0, 0])
                : w[1] >= _[1]
                ? (w = [_[0], _[1]])
                : (w[0] = -w[0]),
                t[0].mcs || (r(), i("onInit") && s.callbacks.onInit.call(t[0])),
                clearTimeout(h[0].onCompleteTimeout),
                (l.tweenRunning ||
                  !((0 === x && w[0] >= 0) || (x === _[0] && w[0] <= _[0]))) &&
                  (Q(g[0], v, Math.round(w[1]), d[1], n.scrollEasing),
                  Q(
                    h[0],
                    v,
                    Math.round(w[0]),
                    d[0],
                    n.scrollEasing,
                    n.overwrite,
                    {
                      onStart: function () {
                        n.callbacks &&
                          n.onStart &&
                          !l.tweenRunning &&
                          (i("onScrollStart") &&
                            (r(), s.callbacks.onScrollStart.call(t[0])),
                          (l.tweenRunning = !0),
                          y(g),
                          (l.cbOffsets = [
                            s.callbacks.alwaysTriggerOffsets || x >= _[0] + S,
                            s.callbacks.alwaysTriggerOffsets || -b >= x,
                          ]));
                      },
                      onUpdate: function () {
                        n.callbacks &&
                          n.onUpdate &&
                          i("whileScrolling") &&
                          (r(), s.callbacks.whileScrolling.call(t[0]));
                      },
                      onComplete: function () {
                        if (n.callbacks && n.onComplete) {
                          "yx" === s.axis &&
                            clearTimeout(h[0].onCompleteTimeout);
                          var e = h[0].idleTimer || 0;
                          h[0].onCompleteTimeout = setTimeout(function () {
                            i("onScroll") &&
                              (r(), s.callbacks.onScroll.call(t[0])),
                              i("onTotalScroll") &&
                                w[1] >= _[1] - C &&
                                l.cbOffsets[0] &&
                                (r(), s.callbacks.onTotalScroll.call(t[0])),
                              i("onTotalScrollBack") &&
                                w[1] <= B &&
                                l.cbOffsets[1] &&
                                (r(), s.callbacks.onTotalScrollBack.call(t[0])),
                              (l.tweenRunning = !1),
                              (h[0].idleTimer = 0),
                              y(g, "hide");
                          }, e);
                        }
                      },
                    },
                  ));
            }
          },
          Q = function (e, t, o, a, n, i, r) {
            function l() {
              x.stop ||
                (p || u.call(),
                (p = Z() - m),
                s(),
                p >= x.time &&
                  ((x.time = p > x.time ? p + c - (p - x.time) : p + c - 1),
                  x.time < p + 1 && (x.time = p + 1)),
                x.time < a ? (x.id = d(l)) : f.call());
            }
            function s() {
              a > 0
                ? ((x.currVal = (function (e, t, o, a, n) {
                    switch (n) {
                      case "linear":
                      case "mcsLinear":
                        return (o * e) / a + t;
                      case "mcsLinearOut":
                        return (e /= a), e--, o * Math.sqrt(1 - e * e) + t;
                      case "easeInOutSmooth":
                        return 1 > (e /= a / 2)
                          ? (o / 2) * e * e + t
                          : (-o / 2) * (--e * (e - 2) - 1) + t;
                      case "easeInOutStrong":
                        return 1 > (e /= a / 2)
                          ? (o / 2) * Math.pow(2, 10 * (e - 1)) + t
                          : (e--, (o / 2) * (2 - Math.pow(2, -10 * e)) + t);
                      case "easeInOut":
                      case "mcsEaseInOut":
                        return 1 > (e /= a / 2)
                          ? (o / 2) * e * e * e + t
                          : (o / 2) * ((e -= 2) * e * e + 2) + t;
                      case "easeOutSmooth":
                        return (e /= a), -o * (--e * e * e * e - 1) + t;
                      case "easeOutStrong":
                        return o * (1 - Math.pow(2, (-10 * e) / a)) + t;
                      case "easeOut":
                      case "mcsEaseOut":
                      default:
                        var i = (e /= a) * e,
                          r = i * e;
                        return (
                          t +
                          o *
                            (0.499999999999997 * r * i +
                              -2.5 * i * i +
                              5.5 * r +
                              -6.5 * i +
                              4 * e)
                        );
                    }
                  })(x.time, g, _, a, n)),
                  (v[t] = Math.round(x.currVal) + "px"))
                : (v[t] = o + "px"),
                h.call();
            }
            e._mTween || (e._mTween = { top: {}, left: {} });
            var c,
              d,
              r = r || {},
              u = r.onStart || function () {},
              h = r.onUpdate || function () {},
              f = r.onComplete || function () {},
              m = Z(),
              p = 0,
              g = e.offsetTop,
              v = e.style,
              x = e._mTween[t];
            "left" === t && (g = e.offsetLeft);
            var _ = o - g;
            (x.stop = 0),
              "none" !== i &&
                null != x.id &&
                (window.requestAnimationFrame
                  ? window.cancelAnimationFrame(x.id)
                  : clearTimeout(x.id),
                (x.id = null)),
              (c = 1e3 / 60),
              (x.time = p + c),
              (d = window.requestAnimationFrame
                ? window.requestAnimationFrame
                : function (e) {
                    return s(), setTimeout(e, 0.01);
                  }),
              (x.id = d(l));
          },
          Z = function () {
            return window.performance && window.performance.now
              ? window.performance.now()
              : window.performance && window.performance.webkitNow
              ? window.performance.webkitNow()
              : Date.now
              ? Date.now()
              : new Date().getTime();
          },
          G = function () {
            var e = this;
            e._mTween || (e._mTween = { top: {}, left: {} });
            for (var t = ["top", "left"], o = 0; o < t.length; o++) {
              var a = t[o];
              e._mTween[a].id &&
                (window.requestAnimationFrame
                  ? window.cancelAnimationFrame(e._mTween[a].id)
                  : clearTimeout(e._mTween[a].id),
                (e._mTween[a].id = null),
                (e._mTween[a].stop = 1));
            }
          },
          J = function (e, t) {
            try {
              delete e[t];
            } catch (o) {
              e[t] = null;
            }
          },
          K = function (e) {
            return !(e.which && 1 !== e.which);
          },
          $ = function (e) {
            var t = e.originalEvent.pointerType;
            return !(t && "touch" !== t && 2 !== t);
          },
          ee = function (e) {
            return !isNaN(parseFloat(e)) && isFinite(e);
          },
          te = function (e) {
            var t = e.parents(".mCSB_container");
            return [
              e.offset().top - t.offset().top,
              e.offset().left - t.offset().left,
            ];
          };
        (e.fn[o] = function (t) {
          return u[t]
            ? u[t].apply(this, Array.prototype.slice.call(arguments, 1))
            : "object" != typeof t && t
            ? void e.error("Method " + t + " does not exist")
            : u.init.apply(this, arguments);
        }),
          (e[o] = function (t) {
            return u[t]
              ? u[t].apply(this, Array.prototype.slice.call(arguments, 1))
              : "object" != typeof t && t
              ? void e.error("Method " + t + " does not exist")
              : u.init.apply(this, arguments);
          }),
          (e[o].defaults = i),
          (window[o] = !0),
          e(window).load(function () {
            e(n)[o](),
              e.extend(e.expr[":"], {
                mcsInView:
                  e.expr[":"].mcsInView ||
                  function (t) {
                    var o,
                      a,
                      n = e(t),
                      i = n.parents(".mCSB_container");
                    if (i.length)
                      return (
                        (o = i.parent()),
                        (a = [i[0].offsetTop, i[0].offsetLeft])[0] + te(n)[0] >=
                          0 &&
                          a[0] + te(n)[0] < o.height() - n.outerHeight(!1) &&
                          a[1] + te(n)[1] >= 0 &&
                          a[1] + te(n)[1] < o.width() - n.outerWidth(!1)
                      );
                  },
                mcsOverflow:
                  e.expr[":"].mcsOverflow ||
                  function (t) {
                    var o = e(t).data(a);
                    if (o) return o.overflowed[0] || o.overflowed[1];
                  },
              });
          });
      })();
  });
